<div class="registration-container">
  <div class="registration-card">
    <header class="form-header">
      <button class="back-button" (click)="goBack()">
        <span>‚Üê</span> Voltar
      </button>
      <h1>Inscri√ß√£o - Legacy Camp 2025</h1>
      <p>Preencha seus dados para garantir sua vaga</p>
    </header>

    <form
      [formGroup]="registrationForm"
      (ngSubmit)="onSubmit()"
      class="registration-form"
    >
      <!-- üë§ Informa√ß√µes Pessoais -->
      <section class="form-section">
        <h2>üë§ Informa√ß√µes Pessoais</h2>
        
        <div class="info-box" style="margin-bottom: 20px; padding: 15px; background-color: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px; color: #856404;">
          <p style="color: #856404; margin: 0; font-weight: 500;">
            <strong>üì¢ Importante:</strong> O Legacy Camp 2025 √© destinado exclusivamente para pessoas com 18 anos ou mais.
          </p>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="fullName">Nome completo *</label>
            <input
              type="text"
              id="fullName"
              formControlName="fullName"
              placeholder="Digite seu nome completo"
              [class.error]="submitted && f['fullName'].errors"
            />
            <div
              class="error-message"
              *ngIf="submitted && f['fullName'].errors"
            >
              <span *ngIf="f['fullName'].errors['required']"
                >Nome √© obrigat√≥rio</span
              >
              <span *ngIf="f['fullName'].errors['minlength']"
                >Nome deve ter pelo menos 3 caracteres</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="birthDate">Data de nascimento *</label>
            <input
              type="date"
              id="birthDate"
              formControlName="birthDate"
              (change)="calculateAge()"
              [class.error]="submitted && f['birthDate'].errors"
            />
            <div
              class="error-message"
              *ngIf="submitted && f['birthDate'].errors"
            >
              <span *ngIf="f['birthDate'].errors['required']"
                >Data de nascimento √© obrigat√≥ria</span
              >
            </div>
          </div>

          <div class="form-group">
            <label for="age">Idade *</label>
            <input
              type="number"
              id="age"
              formControlName="age"
              readonly
              [class.error]="submitted && f['age'].errors"
            />
            <div class="error-message" *ngIf="submitted && f['age'].errors">
              <span *ngIf="f['age'].errors['required']"
                >Idade √© obrigat√≥ria</span
              >
              <span *ngIf="f['age'].errors['min']">Idade m√≠nima √© 18 anos</span>
              <span *ngIf="f['age'].errors['max']"
                >Idade m√°xima √© 100 anos</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>G√™nero *</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="gender"
                  value="masculino"
                />
                <span class="radio-custom"></span>
                Masculino
              </label>
              <label class="radio-option">
                <input type="radio" formControlName="gender" value="feminino" />
                <span class="radio-custom"></span>
                Feminino
              </label>
            </div>
            <div class="error-message" *ngIf="submitted && f['gender'].errors">
              <span *ngIf="f['gender'].errors['required']"
                >G√™nero √© obrigat√≥rio</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="phone">Telefone (WhatsApp) *</label>
            <input
              type="tel"
              id="phone"
              formControlName="phone"
              placeholder="(11) 99999-9999"
              (input)="formatPhone($event)"
              [class.error]="submitted && f['phone'].errors"
            />
            <div class="error-message" *ngIf="submitted && f['phone'].errors">
              <span *ngIf="f['phone'].errors['required']"
                >Telefone √© obrigat√≥rio</span
              >
              <span *ngIf="f['phone'].errors['pattern']"
                >Digite um telefone v√°lido</span
              >
            </div>
          </div>

          <div class="form-group">
            <label for="email">E-mail *</label>
            <input
              type="email"
              id="email"
              formControlName="email"
              placeholder="seu@email.com"
              [class.error]="submitted && f['email'].errors"
            />
            <div class="error-message" *ngIf="submitted && f['email'].errors">
              <span *ngIf="f['email'].errors['required']"
                >E-mail √© obrigat√≥rio</span
              >
              <span *ngIf="f['email'].errors['email']"
                >Digite um e-mail v√°lido</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="address">Endere√ßo completo *</label>
            <textarea
              id="address"
              formControlName="address"
              placeholder="Rua, bairro, cidade, CEP"
              rows="3"
              [class.error]="submitted && f['address'].errors"
            ></textarea>
            <div class="error-message" *ngIf="submitted && f['address'].errors">
              <span *ngIf="f['address'].errors['required']"
                >Endere√ßo √© obrigat√≥rio</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="socialMedia">Rede Social</label>
            <input
              type="text"
              id="socialMedia"
              formControlName="socialMedia"
              placeholder="Instagram e Facebook"
              [class.error]="submitted && f['socialMedia'].errors"
            />
          </div>
        </div>

        <!-- Contato de Emerg√™ncia -->
        <div class="form-subsection">
          <h3>Contato de emerg√™ncia</h3>
          <div formGroupName="emergencyContact">
            <div class="form-row">
              <div class="form-group">
                <label for="emergencyName">Nome *</label>
                <input
                  type="text"
                  id="emergencyName"
                  formControlName="name"
                  placeholder="Nome do contato"
                  [class.error]="
                    submitted && emergencyContact.get('name')?.errors
                  "
                />
                <div
                  class="error-message"
                  *ngIf="submitted && emergencyContact.get('name')?.errors"
                >
                  <span
                    *ngIf="emergencyContact.get('name')?.errors?.['required']"
                    >Nome √© obrigat√≥rio</span
                  >
                </div>
              </div>

              <div class="form-group">
                <label for="emergencyPhone">Telefone *</label>
                <input
                  type="tel"
                  id="emergencyPhone"
                  formControlName="phone"
                  placeholder="(11) 99999-9999"
                  (input)="formatEmergencyPhone($event)"
                  [class.error]="
                    submitted && emergencyContact.get('phone')?.errors
                  "
                />
                <div
                  class="error-message"
                  *ngIf="submitted && emergencyContact.get('phone')?.errors"
                >
                  <span
                    *ngIf="emergencyContact.get('phone')?.errors?.['required']"
                    >Telefone √© obrigat√≥rio</span
                  >
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="emergencyRelationship">Grau de parentesco *</label>
                <input
                  type="text"
                  id="emergencyRelationship"
                  formControlName="relationship"
                  placeholder="Ex: Pai, M√£e, Irm√£o, etc."
                  [class.error]="
                    submitted && emergencyContact.get('relationship')?.errors
                  "
                />
                <div
                  class="error-message"
                  *ngIf="
                    submitted && emergencyContact.get('relationship')?.errors
                  "
                >
                  <span
                    *ngIf="emergencyContact.get('relationship')?.errors?.['required']"
                    >Grau de parentesco √© obrigat√≥rio</span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- üèòÔ∏è Informa√ß√µes de Igreja -->
      <section class="form-section">
        <h2>üèòÔ∏è Informa√ß√µes de Igreja</h2>

        <div class="form-row">
          <div class="form-group">
            <label>Voc√™ √© membro de alguma Lagoinha da regi√£o Norte? *</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="isLagoinhaMember"
                  value="sim"
                />
                <span class="radio-custom"></span>
                Sim
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="isLagoinhaMember"
                  value="nao"
                />
                <span class="radio-custom"></span>
                N√£o
              </label>
            </div>
            <div
              class="error-message"
              *ngIf="submitted && f['isLagoinhaMember'].errors"
            >
              <span *ngIf="f['isLagoinhaMember'].errors['required']"
                >Esta informa√ß√£o √© obrigat√≥ria</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="churchName"
              >Se sim, qual Lagoinha voc√™ frequenta? (Cidade e nome da igreja)
              *</label
            >
            <input
              type="text"
              id="churchName"
              formControlName="churchName"
              placeholder="Ex: Lagoinha Manaus Sede, Lagoinha Manaus Torres, Lagoinha Manaus Japiim, Lagoinha Itacoatiara, etc."
              [class.error]="submitted && f['churchName'].errors"
            />
            <div
              class="error-message"
              *ngIf="submitted && f['churchName'].errors"
            >
              <span *ngIf="f['churchName'].errors['required']"
                >Nome da igreja √© obrigat√≥rio</span
              >
            </div>
            <small class="form-help"
              >‚ùó Caso voc√™ n√£o seja membro de uma Lagoinha, escreva o nome da
              sua igreja para a an√°lise da sua inscri√ß√£o.</small
            >
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="ministryParticipation"
              >Voc√™ participa de algum minist√©rio (volunt√°rio ou l√≠der) e algum
              GC? Quais?</label
            >
            <textarea
              id="ministryParticipation"
              formControlName="ministryParticipation"
              placeholder="Descreva sua participa√ß√£o em minist√©rios e grupos de c√©lulas"
              rows="3"
              [class.error]="submitted && f['ministryParticipation'].errors"
            ></textarea>
          </div>
        </div>
      </section>

      <!-- üí≥ Informa√ß√µes da Inscri√ß√£o -->
      <section class="form-section">
        <h2>üí≥ Informa√ß√µes da Inscri√ß√£o</h2>

        <div class="form-row">
          <div class="form-group">
            <label>Lote da inscri√ß√£o</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="registrationLot"
                  value="lote2"
                  checked
                />
                <span class="radio-custom"></span>
                2¬∫ Lote ‚Äì R$ 300,00 (Podendo ser a vista ou parcelado)
              </label>
            </div>
            <small class="form-help"
              >Inclui transporte, alimenta√ß√£o e camisa.</small
            >
            <div
              class="info-box"
              style="
                margin-top: 10px;
                padding: 10px;
                background-color: #f8f9fa;
                border-left: 4px solid #007bff;
                border-radius: 4px;
                color: #333;
              "
            >
              <p style="color: #333; margin: 0">
                <strong>üì¢ Aviso:</strong> As inscri√ß√µes do 1¬∫ lote foram
                encerradas. Apenas o 2¬∫ lote est√° dispon√≠vel.
              </p>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Forma de pagamento utilizada *</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="paymentMethod"
                  value="pix"
                />
                <span class="radio-custom"></span>
                PIX
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="paymentMethod"
                  value="cartao"
                />
                <span class="radio-custom"></span>
                Cart√£o
              </label>
              <label class="radio-option" *ngIf="shouldShowCarneOption()">
                <input
                  type="radio"
                  formControlName="paymentMethod"
                  value="carne"
                />
                <span class="radio-custom"></span>
                Carn√™ Legacy
              </label>
            </div>
            <div
              class="error-message"
              *ngIf="submitted && f['paymentMethod'].errors"
            >
              <span *ngIf="f['paymentMethod'].errors['required']"
                >Selecione uma forma de pagamento</span
              >
            </div>
            <small class="form-help">
              üí° O 2¬∫ Lote pode ser pago √† vista (PIX ou Cart√£o) ou parcelado
              (Carn√™ Legacy)
            </small>
          </div>
        </div>

        <!-- Campo de Cupom -->
        <div class="form-row">
          <div class="form-group full-width">
            <label for="couponCode">C√≥digo de Cupom (opcional)</label>
            <div class="coupon-container">
              <input
                type="text"
                id="couponCode"
                formControlName="couponCode"
                placeholder="Digite seu c√≥digo de cupom"
                class="coupon-input"
                [class.success]="couponValidated"
                [class.error]="couponMessage && !couponValidated"
                (blur)="validateCoupon()"
              />
              <button
                type="button"
                class="coupon-button"
                (click)="validateCoupon()"
              >
                Validar Cupom
              </button>
            </div>
            <div
              class="coupon-message"
              *ngIf="couponMessage"
              [class.success]="couponValidated"
              [class.error]="!couponValidated"
            >
              {{ couponMessage }}
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="paymentProof">Anexe o comprovante de pagamento</label>
            <input
              type="file"
              id="paymentProof"
              formControlName="paymentProof"
              accept="image/*,.pdf"
            />
            <small class="form-help">Opcional - Upload de imagem ou PDF</small>
          </div>
        </div>

        <!-- Informa√ß√µes de Pagamento -->
        <div class="form-row" *ngIf="shouldShowPaymentInfo()">
          <div class="form-group full-width">
            <div class="payment-info-container">
              <!-- Chave PIX -->
              <div *ngIf="shouldShowPixKey()" class="pix-container">
                <p class="payment-info">
                  <strong>üí≥ Pagamento via PIX:</strong>
                </p>
                <div class="pix-key-container">
                  <div class="pix-key-display">
                    <span class="pix-key-label">Chave PIX:</span>
                    <span class="pix-key-value">{{ pixKey }}</span>
                  </div>
                  <button
                    type="button"
                    class="copy-button"
                    (click)="copyPixKey()"
                    title="Copiar chave PIX"
                  >
                    üìã Copiar
                  </button>
                </div>
                <small class="form-help">
                  <strong>Valor:</strong>
                  <span *ngIf="!couponValidated">R$ 300,00</span>
                  <span *ngIf="couponValidated">
                    <span style="text-decoration: line-through">R$ 300,00</span>
                    R$ {{ getFinalValue() }},00
                    <span style="color: #28a745; font-weight: bold"
                      >(Desconto aplicado!)</span
                    >
                  </span>
                </small>
              </div>

              <!-- Link Mercado Pago -->
              <div
                *ngIf="shouldShowMercadoPagoLink()"
                class="mercado-pago-container"
              >
                <p class="payment-info">
                  <strong>üí≥ Pagamento Online:</strong> Clique no bot√£o abaixo
                  para realizar o pagamento:
                </p>
                <button
                  type="button"
                  class="payment-button"
                  (click)="openPaymentLink()"
                >
                  <span
                    *ngIf="
                      f['paymentMethod'].value === 'cartao' && couponValidated
                    "
                    >üé´ Pagar com Cupom (R$ {{ getFinalValue() }},00)</span
                  >
                  <span
                    *ngIf="
                      f['paymentMethod'].value === 'cartao' && !couponValidated
                    "
                    >üöÄ Pagar com Mercado Pago (R$ 300,00)</span
                  >
                </button>
                <small class="form-help">
                  <span *ngIf="f['paymentMethod'].value === 'cartao'">
                    <strong>Valor:</strong>
                    <span *ngIf="!couponValidated">R$ 300,00 + Taxas</span>
                    <span *ngIf="couponValidated">
                      <span style="text-decoration: line-through"
                        >R$ 300,00</span
                      >
                      R$ {{ getFinalValue() }},00 + Taxas
                      <span style="color: #28a745; font-weight: bold"
                        >(Desconto aplicado!)</span
                      >
                    </span>
                  </span>
                </small>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- üëï Informa√ß√µes Adicionais -->
      <section class="form-section">
        <h2>üëï Informa√ß√µes Adicionais</h2>

        <div class="form-row">
          <div class="form-group">
            <label>Tamanho da sua camisa *</label>
            <div class="radio-group">
              <label class="radio-option">
                <input type="radio" formControlName="shirtSize" value="P" />
                <span class="radio-custom"></span>
                P
              </label>
              <label class="radio-option">
                <input type="radio" formControlName="shirtSize" value="M" />
                <span class="radio-custom"></span>
                M
              </label>
              <label class="radio-option">
                <input type="radio" formControlName="shirtSize" value="G" />
                <span class="radio-custom"></span>
                G
              </label>
              <label class="radio-option">
                <input type="radio" formControlName="shirtSize" value="GG" />
                <span class="radio-custom"></span>
                GG
              </label>
              <label class="radio-option">
                <input type="radio" formControlName="shirtSize" value="XG" />
                <span class="radio-custom"></span>
                XG
              </label>
            </div>
            <div
              class="error-message"
              *ngIf="submitted && f['shirtSize'].errors"
            >
              <span *ngIf="f['shirtSize'].errors['required']"
                >Selecione um tamanho</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Possui alguma alergia a alimentos ou medicamentos? *</label>
            <div class="radio-group">
              <label class="radio-option">
                <input type="radio" formControlName="hasAllergy" value="sim" />
                <span class="radio-custom"></span>
                Sim
              </label>
              <label class="radio-option">
                <input type="radio" formControlName="hasAllergy" value="nao" />
                <span class="radio-custom"></span>
                N√£o
              </label>
            </div>
            <div
              class="error-message"
              *ngIf="submitted && f['hasAllergy'].errors"
            >
              <span *ngIf="f['hasAllergy'].errors['required']"
                >Esta informa√ß√£o √© obrigat√≥ria</span
              >
            </div>
          </div>
        </div>

        <div class="form-row" *ngIf="f['hasAllergy'].value === 'sim'">
          <div class="form-group full-width">
            <label for="allergyDetails">Se sim, qual? *</label>
            <textarea
              id="allergyDetails"
              formControlName="allergyDetails"
              placeholder="Descreva suas alergias"
              rows="2"
              [class.error]="submitted && f['allergyDetails'].errors"
            ></textarea>
            <div
              class="error-message"
              *ngIf="submitted && f['allergyDetails'].errors"
            >
              <span *ngIf="f['allergyDetails'].errors['required']"
                >Detalhes da alergia s√£o obrigat√≥rios</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Faz uso de alguma medica√ß√£o cont√≠nua ou importante?</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="usesMedication"
                  value="sim"
                />
                <span class="radio-custom"></span>
                Sim
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="usesMedication"
                  value="nao"
                />
                <span class="radio-custom"></span>
                N√£o
              </label>
            </div>
          </div>
        </div>

        <div class="form-row" *ngIf="f['usesMedication'].value === 'sim'">
          <div class="form-group full-width">
            <label for="medicationDetails">Se sim, qual?</label>
            <textarea
              id="medicationDetails"
              formControlName="medicationDetails"
              placeholder="Descreva as medica√ß√µes"
              rows="2"
              [class.error]="submitted && f['medicationDetails'].errors"
            ></textarea>
            <div
              class="error-message"
              *ngIf="submitted && f['medicationDetails'].errors"
            >
              <span *ngIf="f['medicationDetails'].errors['required']"
                >Detalhes da medica√ß√£o s√£o obrigat√≥rios</span
              >
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Possui alguma restri√ß√£o alimentar?</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="dietaryRestriction"
                  value="Nenhuma"
                />
                <span class="radio-custom"></span>
                Nenhuma
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="dietaryRestriction"
                  value="Vegetariana"
                />
                <span class="radio-custom"></span>
                Vegetariana
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="dietaryRestriction"
                  value="Intoler√¢ncia √† lactose"
                />
                <span class="radio-custom"></span>
                Intoler√¢ncia √† lactose
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="dietaryRestriction"
                  value="Intoler√¢ncia ao gl√∫ten"
                />
                <span class="radio-custom"></span>
                Intoler√¢ncia ao gl√∫ten
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  formControlName="dietaryRestriction"
                  value="Outras"
                />
                <span class="radio-custom"></span>
                Outras ‚Äì quais?
              </label>
            </div>
          </div>
        </div>
      </section>

      <!-- ‚úùÔ∏è Enfoque e Cuidado -->
      <section class="form-section">
        <h2>‚úùÔ∏è Enfoque e Cuidado</h2>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="prayerRequest"
              >Gostaria de fazer algum pedido¬†de¬†ora√ß√£o? *</label
            >
            <textarea
              id="prayerRequest"
              formControlName="prayerRequest"
              placeholder="Compartilhe seu pedido de ora√ß√£o"
              rows="3"
              [class.error]="submitted && f['prayerRequest'].errors"
            ></textarea>
            <div
              class="error-message"
              *ngIf="submitted && f['prayerRequest'].errors"
            >
              <span *ngIf="f['prayerRequest'].errors['required']"
                >Pedido de ora√ß√£o √© obrigat√≥rio</span
              >
            </div>
          </div>
        </div>
      </section>

      <!-- üì∏ Termos e Autoriza√ß√£o -->
      <section class="form-section">
        <h2>üì∏ Termos e Autoriza√ß√£o</h2>

        <div class="form-row">
          <div class="form-group full-width">
            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" formControlName="imageAuthorization" />
                <span class="checkbox-custom"></span>
                Autorizo o uso da minha imagem para registros, divulga√ß√£o e
                materiais do Minist√©rio Legacy da Igreja Batista da Lagoinha
                Manaus Sede. *
              </label>
              <div
                class="error-message"
                *ngIf="submitted && f['imageAuthorization'].errors"
              >
                <span *ngIf="f['imageAuthorization'].errors['required']"
                  >Esta autoriza√ß√£o √© obrigat√≥ria</span
                >
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" formControlName="analysisAwareness" />
                <span class="checkbox-custom"></span>
                Estou ciente de que minha inscri√ß√£o passar√° por an√°lise e ser√°
                confirmada posteriormente. *
              </label>
              <div
                class="error-message"
                *ngIf="submitted && f['analysisAwareness'].errors"
              >
                <span *ngIf="f['analysisAwareness'].errors['required']"
                  >Esta confirma√ß√£o √© obrigat√≥ria</span
                >
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" formControlName="termsAwareness" />
                <span class="checkbox-custom"></span>
                Estou ciente dos termos contratuais que dever√° ser lido
                integralmente, e ap√≥s recebida a c√≥pia por e-mail, dever√° ser
                assinada digitalmente (gov.br) e enviado para o contato
                da organiza√ß√£o. *
              </label>
              <div class="terms-link-container">
                <button type="button" class="terms-link" (click)="openTermsModal()">
                  üìÑ Ler Termos Contratuais do Legacy Camp 2025
                </button>
              </div>
              <div
                class="error-message"
                *ngIf="submitted && f['termsAwareness'].errors"
              >
                <span *ngIf="f['termsAwareness'].errors['required']"
                  >Voc√™ deve aceitar os termos contratuais</span
                >
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" formControlName="truthDeclaration" />
                <span class="checkbox-custom"></span>
                Declaro que todas as informa√ß√µes s√£o verdadeiras e me comprometo
                a seguir as regras do Legacy Camp. *
              </label>
              <div
                class="error-message"
                *ngIf="submitted && f['truthDeclaration'].errors"
              >
                <span *ngIf="f['truthDeclaration'].errors['required']"
                  >Esta declara√ß√£o √© obrigat√≥ria</span
                >
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- üß≠ Encerramento -->
      <section class="form-section">
        <h2>üß≠ Encerramento</h2>
        <div class="info-box">
          <p>
            <strong>üìç Lembrando:</strong> O Legacy Camp √© um acampamento com
            vagas limitadas.
          </p>
          <p>
            Sua inscri√ß√£o ser√° avaliada e confirmada por nossa equipe nos dias
            seguintes. Fique atento ao seu e-mail, WhatsApp e redes sociais.
          </p>
        </div>
      </section>

      <div class="form-actions">
        <button 
          type="submit" 
          class="submit-button" 
          [disabled]="isSubmitting || !canSubmitForm()"
        >
          <span *ngIf="!isSubmitting">Enviar Inscri√ß√£o</span>
          <span *ngIf="isSubmitting" class="loading">
            <span class="spinner"></span>
            Enviando...
          </span>
        </button>
        <div *ngIf="!canSubmitForm() && submitted" class="terms-warning">
          <p>‚ö†Ô∏è Voc√™ deve aceitar os termos contratuais para continuar.</p>
        </div>
      </div>
    </form>
  </div>
</div>

<!-- Modal de Confirma√ß√£o -->
<div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>{{ modalTitle }}</h3>
      <button class="modal-close" (click)="closeModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="modal-icon" [class]="modalType">
        <span *ngIf="modalType === 'success'">‚úì</span>
        <span *ngIf="modalType === 'error'">‚úï</span>
      </div>
      <p>{{ modalMessage }}</p>
    </div>
    <div class="modal-footer">
      <button class="modal-button" (click)="closeModal()">
        {{ modalButtonText }}
      </button>
    </div>
  </div>
</div>

<!-- Modal de Termos Contratuais -->
<div class="modal-overlay" *ngIf="showTermsModal" (click)="closeTermsModal()">
  <div class="modal-content terms-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Termos Contratuais - Legacy Camp 2025</h3>
      <button class="modal-close" (click)="closeTermsModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="terms-content">
        <div class="terms-section">
          <h4>1. Identifica√ß√£o do Participante</h4>
          <p>O(a) inscrito(a) declara que as informa√ß√µes prestadas no formul√°rio de inscri√ß√£o s√£o verdadeiras e se compromete a atualiz√°-las caso haja mudan√ßas.</p>
        </div>

        <div class="terms-section">
          <h4>2. Sobre o Evento</h4>
          <p>O Legacy Camp 2025 est√° previsto para ocorrer nos dias 14 a 16 de novembro de 2025, na Ch√°cara Para√≠so Verde, na Rodovia Manoel Urbano no KM 13, estrada do Calder√£o, Ramal do Incra.</p>
          <p>O evento √© promovido pelo Minist√©rio Legacy da Lagoinha Manaus e tem car√°ter regional, para jovens acima de dezoito anos, sendo voltado exclusivamente para membros das igrejas Lagoinha da regi√£o Norte e Interessados de outras igrejas que, assim como os membros regionais, ter√£o sua inscri√ß√£o submetida para aprova√ß√£o.</p>
        </div>

        <div class="terms-section">
          <h4>3. Inscri√ß√µes</h4>
          <p>O valor da inscri√ß√£o varia conforme o lote selecionado, que √© oferecido conforme quantidade dispon√≠vel: 1¬∫ lote: R$ 250,00 e 2¬∫ lote: R$ 300,00, podendo surgir lote adicional conforme decis√£o da organiza√ß√£o, e amplamente divulgado. A inscri√ß√£o e pagamento deve ser feito pelo meio indicado no formul√°rio www.legacycamp.com.br ou por meio diverso indicado.</p>
          <p>Para inscrever dependente legal menor de idade, o adulto dever√° entrar em contato com o n√∫mero (92) 984095783 e requerer o formul√°rio pr√≥prio e comprovar o v√≠nculo familiar, ficando desde j√° ciente que ser√° cobrada taxa para custeio de transporte, alimenta√ß√£o e recrea√ß√£o do participante menor. Durante as programa√ß√µes coletivas, o menor ficar√° em ambiente reservado com atividades voltadas para sua faixa et√°ria.</p>
          <p>Menor de zero a seis anos: isento; menor de sete a doze anos: R$ 150,00; menor acima de doze anos: valor integral do adulto referente ao lote praticado no ato da inscri√ß√£o.</p>
          <p>A inscri√ß√£o de adultos inclui: transporte, alimenta√ß√£o, hospedagem e kit com camisa e caderneta.</p>
        </div>

        <div class="terms-section">
          <h4>4. Pol√≠tica de Cancelamento, Desist√™ncia e Transfer√™ncia</h4>
          <p>√â garantida a solicita√ß√£o de reembolso por desist√™ncia no prazo legal de 7 (sete) dias como previsto no art. 49 do C√≥digo de Defesa do Consumidor. Para desist√™ncias ocorridas ap√≥s o prazo assinalado, a organiza√ß√£o poder√° ofertar a op√ß√£o de Transfer√™ncia de Vaga at√© 5 dias antes da realiza√ß√£o do evento.</p>
          <p>O participante poder√° transferir sua vaga para outro interessado, desde que preenchidos cumulativamente os seguintes crit√©rios:</p>
          <ul>
            <li>A equipe organizadora seja previamente comunicada;</li>
            <li>A nova pessoa tamb√©m atenda aos crit√©rios de participa√ß√£o;</li>
            <li>A equipe avalie e aprove a substitui√ß√£o.</li>
          </ul>
          <p>A transfer√™ncia s√≥ ser√° efetivada ap√≥s confirma√ß√£o da organiza√ß√£o.</p>
        </div>

        <div class="terms-section">
          <h4>5. Normas de Conduta</h4>
          <p>O participante se compromete a:</p>
          <ul>
            <li>Seguir todas as orienta√ß√µes da equipe organizadora e de seguran√ßa;</li>
            <li>Manter comportamento respeitoso e compat√≠vel com os valores do Minist√©rio de Jovens Legacy;</li>
            <li>N√£o portar subst√¢ncias il√≠citas, bebidas alco√≥licas ou qualquer item proibido pelo regulamento do camp;</li>
            <li>Zelar pelo espa√ßo f√≠sico, pelos bens do local e pelos demais participantes.</li>
          </ul>
          <p>A viola√ß√£o das normas poder√° resultar em advert√™ncia ou at√© mesmo desligamento do evento, sem direito a reembolso.</p>
        </div>

        <div class="terms-section">
          <h4>6. Uso de Imagem</h4>
          <p>Nos termos dos artigos 11 a 21 do C√≥digo Civil Brasileiro (Lei n¬∫ 10.406/2002), da Lei de Direitos Autorais (Lei n¬∫ 9.610/1998) e do disposto no artigo 5¬∫, incisos V, X e XXVIII da Constitui√ß√£o Federal, o(a) PARTICIPANTE autoriza, de forma gratuita, definitiva e irrevog√°vel, o uso da sua imagem e voz pela ORGANIZA√á√ÉO, por tempo indeterminado, captadas durante a realiza√ß√£o do evento LEGACY CAMP 2025.</p>
          <p>Essa autoriza√ß√£o compreende a capta√ß√£o, reprodu√ß√£o, edi√ß√£o e divulga√ß√£o do material audiovisual ou fotogr√°fico, total ou parcialmente, para fins institucionais, promocionais e informativos, sem que isso gere qualquer direito de remunera√ß√£o ou compensa√ß√£o ao(a) PARTICIPANTE.</p>
          <p>Caso o(a) PARTICIPANTE n√£o concorde com o uso de sua imagem, dever√° comunicar expressamente por escrito √† organiza√ß√£o antes do in√≠cio do evento, para efeito de revoga√ß√£o da autoriza√ß√£o concedida neste contrato.</p>
        </div>

        <div class="terms-section">
          <h4>7. Disposi√ß√µes Legais e Foro</h4>
          <p>Este contrato √© regido pelas leis brasileiras, especialmente pelo C√≥digo Civil, e demais legisla√ß√µes correlatas.</p>
          <p>Os casos omissos ser√£o deliberados pela organiza√ß√£o.</p>
          <p>As partes elegem o Foro da Comarca de Manaus/AM, com exclus√£o de qualquer outro, por mais privilegiado que seja, para dirimir eventuais controv√©rsias decorrentes deste instrumento.</p>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="modal-button cancel-button" (click)="closeTermsModal()">
        Fechar
      </button>
      <button type="button" class="modal-button accept-button" (click)="acceptTerms()">
        Aceitar Termos
      </button>
    </div>
  </div>
</div>
